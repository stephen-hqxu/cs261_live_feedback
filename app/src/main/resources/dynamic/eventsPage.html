<!DOCTYPE html>
<html lang="en">
<head>
    <div th:replace="../static/heading.html"></div>
    <title>Your events</title>
</head>
<body>

    <div class="w3-container w3-center w3-large w3-indigo">
        <div>
            <h1> Here are your events: </h1>
        </div>
    </div>

    <!-- Thymeleaf table printer -->
    <form class="w3-container w3-center" method="GET" action="/host/viewFeedback" style="height: 75vh; overflow: scroll">

        <ul id="eventList" class="w3-ul w3-center w3-border w3-hoverable">
            <li th:each="events: ${events}">
                <p th:text="${events.EventName}" style="font-weight: bold;">XXX</p>

                <th:block th:with="cond=${current_time} < ${events.FinishDateTime}">
                    <p class="flag" th:if="${cond}" style="color: forestgreen">(Active)</p>
                    <p class="flag" th:unless="${cond}" style="color: red">(Ended)</p>
                </th:block>
                <br>
                <button name="eventCode" th:attr="value=${events.EventID}" type="submit" class="w3-btn w3-blue w3-round-medium w3-padding">View Details</button>
            </li>
        </ul>

    </form>
    
    <p class="w3-text-red w3-center" th:text="${error}" th:style="${error == null ? 'display:none;' : 'display:block;'}"></p>

    <br>

    <form class="w3-container w3-center w3-padding" method="GET" action="/host/hostHomePage">

        <button type="submit" class="w3-btn w3-blue-grey w3-round-xxlarge w3-padding">Go back to menu</button>

    </form>

</body>
</html>